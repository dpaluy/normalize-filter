require File.expand_path(File.join('.', 'spec_helper'), File.dirname(__FILE__))
require 'tools/enumerable'

describe Enumerable do
  
  before(:all) do
      @arr = [86, 10, 49, 29, 26,  8,  0, 37, 54,  9,
                 86, 29, 38, 59, 66, 56, 92,  5, 20, 18,
                 66, 48, 55, 61, 20, 19,  7,  0, 36, 77,
                 56, 26, 14, 61, 80,  1, 58, 71, 44, 49]
      
      @histogram =  {86=>2, 10=>1, 49=>2, 29=>2, 26=>2,
                            8=>1, 0=>2, 37=>1, 54=>1, 9=>1, 38=>1, 
                            59=>1, 66=>2, 56=>2, 92=>1, 5=>1, 20=>2, 
                            18=>1, 48=>1, 55=>1, 61=>2, 19=>1, 7=>1,
                            36=>1, 77=>1, 14=>1, 80=>1, 1=>1, 58=>1, 71=>1, 44=>1}    
          
      @cdf =  [[0, 2, 2], [1, 1, 3], [5, 1, 4],   [7, 1, 5],
               [8, 1, 6], [9, 1, 7], [10, 1, 8], [14, 1, 9],
               [18, 1, 10], [19, 1, 11], [20, 2, 13], [26, 2, 15],
               [29, 2, 17], [36, 1, 18], [37, 1, 19], [38, 1, 20],
               [44, 1, 21], [48, 1, 22], [49, 2, 24], [54, 1, 25],
               [55, 1, 26], [56, 2, 28], [58, 1, 29], [59, 1, 30],
               [61, 2, 32], [66, 2, 34], [71, 1, 35], [77, 1, 36],
               [80, 1, 37], [86, 2, 39], [92, 1, 40]]    
  end
  
  let(:object)  { Array.new(@arr) { include Enumerable } }
    
  it "should return histogram" do
    object.to_histogram.should == @histogram
  end
  
  it "should return cdf" do
    object.to_histogram.sort.cdf.should == @cdf
  end
  
end